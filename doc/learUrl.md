### 从输入URL到页面呈现发什么？
1. 网络篇（http)
### 网络请求
- 输入一个地址如：
```
www.baidu.com
* 请求方法，路径为根路径*
```
1. 先查找强缓存如果存在直接使用，否则进入下一步。
2. DNS解析
- 由于我们输入的是域名，然而数据包是通过IP地址传送，所以通过DNS解析得到具体的IP，如果一个域名已经解析过，下次处理直接走缓存，不需要再次DNS解析。如果没有指定端口话就默认为80端口。
3. 建立TCP/IP链接
- 通过DNS解析完之后，就会通过三次握手建立客户端和服务器之间的链接。
- 进行数据传输。
* 接收方接收到数据包后必需要向发送方确认，不确认到话发送方会认为发送到数据包丢失，并从新发送数据包*
- 数据传输完成，就通过第四握手确定断开链接
4. 发送HTTP请求
- TCP链接完成后，就可以发送HTTP请求，发送到HTTP请求必需有“请求行”，“请求头”，“请求体”。结构很简单由请求方法，请求URL和HTTP协议组成
* GET/HTTP/1.1*
5. 网络响应
- 当HTTP请求到达服务器之后。服务器就会进行对应的处理。最后把数据传给浏览器和请求类似也具有响应行，响应头，响应体。
```
HTTP/1.1 200 Ok
```
* 对应HTTP协议版本,状态码和状态描述*
### 解析篇(Dom)
1. 完成网络请求和响应，服务端就会返回一个document文件。以document为根节点的多叉树，然后解析器首先会创建一个document对象。标记生成器会把每个标记的信息发送给DOM树，DOM接收到相应到标记时，会创建对应的DOM对象，创建这里的DOM对象后做：
1. 将Dom 对象加入DOM树中
2. 将对应的标记存放如元素栈中
- 生成DOM树和DOM样式后，就通过浏览器的布局系统确定原属的位置，也就是生成一棵布局树。
- 生成布局树的大致工作有：
1. 遍历生成的DOM树节点，把它们添加到布局树中。
2. 计算布局树节点的坐标位置。
### 渲染过程
- 渲染过程分为一下几个步骤：
1. 建立图层树。
- 图层树有两种合成方式
1. 显示合成
- 拥有层叠上下文的节点
* HTML根元素本身就具有层叠上下文*
- 需要剪裁的地方
* 设置像素的大小，如果超出文本大小的部分需要剪裁*
2. 隐式合成
- 就是层叠等级低的节点被提升为单独的图层之后，那么所有层叠等级比它高的节点都会成为一个单独的图层。
2. 生成绘制列表
- 由上至下解析生成一个个绘制指令，依次进行。
3. 生成图块并删格化
4. 显示器显示内容
- 浏览器中的VIZ接收到命令，根据命令，把页面内容绘制到内存，就生成了页面。
### 总结
1. 通过DNS解析发送IP并找到
2. 通过TCP/IP完成三次握手建立链接
3. 发送HTTP请求
4. 通过服务端到响应返回一个document 文件
5. 解析返回的document文件，并以HTML，CSS为根节点由上至下解析创建图层树。
* 遇到script要暂停解析HTML，CSS，先解析JS*
5. 浏览器中的VIZ接收到命令，根据命令，把页面内容绘制到内存，就生成了页面。